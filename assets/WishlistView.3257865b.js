import{Q as c}from"./QTd.f5957888.js";import{L as _,r as f,M as h,aM as g,aH as a,j as x,k as v,l as s,$ as w,d as i,N as l,K as b,C as y}from"./index.467e0a25.js";import{Q as k}from"./QTable.155f9cd7.js";import"./index.bb60d1ae.js";import"./QSeparator.4b948942.js";import"./QMenu.fd030325.js";import"./position-engine.6a9cec7f.js";import"./use-key-composition.3465fa51.js";import"./use-prevent-scroll.be416be6.js";import"./QChip.d5b7e8a4.js";import"./QItemLabel.284c4d5f.js";import"./format.2a3572e1.js";import"./QCheckbox.70bf8d02.js";const q={id:"wishlist"},Q={class:"text-center"},B={class:"div q-px-xl row"},C={class:"col-12"},N=["src"],U={__name:"WishlistView",setup(V){b();const n=_(),{removeLove:d}=n,m=f(""),t=h([]),u=async e=>{try{console.log(e),console.log(t);const o=t.findIndex(r=>r._id===e);console.log(t[o]._id),await d(t[o]._id),t.splice(o,1),a.fire({icon:"success",title:"\u6210\u529F",text:"\u5DF2\u5F9E\u6536\u85CF\u522A\u9664\u5546\u54C1"})}catch(o){console.log(o),a.fire({icon:"error",title:"\u5931\u6557",text:"\u522A\u9664\u5546\u54C1\u5931\u6557"})}},p=[{name:"name",required:!0,label:"\u5546\u54C1\u540D\u7A31",align:"left",field:e=>e.name,sortable:!0},{name:"image",required:!0,label:"\u5546\u54C1\u5716\u7247",align:"left",field:e=>e.image,sortable:!0},{name:"price",required:!0,label:"\u5546\u54C1\u50F9\u683C",align:"left",field:e=>e.price,sortable:!0},{name:"edit",required:!0,label:"\u7DE8\u8F2F",align:"left"}];return(async()=>{try{const{data:e}=await g.get("/users/love");t.push(...e.result),console.log(t)}catch{a.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u6211\u7684\u6536\u85CF\u5931\u6557"})}})(),(e,o)=>(x(),v("div",q,[s("h3",Q,[w("\u6211\u7684\u9858\u671B\u6E05\u55AE"),s("div",B,[s("div",C,[i(k,{columns:p,rows:t,"row-key":"p_id",filter:m.value},{"body-cell-image":l(r=>[i(c,null,{default:l(()=>[s("img",{src:r.row.image,style:{height:"100px"}},null,8,N)]),_:2},1024)]),"body-cell-edit":l(r=>[i(c,null,{default:l(()=>[i(y,{round:"",color:"red",onClick:T=>u(r.row._id),icon:"fa-solid fa-trash-can"},null,8,["onClick"])]),_:2},1024)]),_:1},8,["rows","filter"])])])])]))}};export{U as default};
